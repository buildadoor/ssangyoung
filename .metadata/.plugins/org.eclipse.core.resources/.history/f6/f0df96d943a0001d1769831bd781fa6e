<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >	
<!-- springweb.a05_mvc.a03_dao.A02_DeptDao
	public interface A02_DeptDao {
		public List<Dept> getDeptList(Dept sch); 
		인터페이스를 상속받은 실제 Dao객체를 위 규칙에 생성하는 xml파일..
		
		-->
<mapper namespace="springweb.a05_mvc.a03_dao.A03_MemberDao">
<select id="getAuthCom" result="string">
	SELECT DISTINCT auth
		FROM member200
</select>
<select id="getMemberList" parameterType="member" result="member">
	select * from member200
	where id like '%'||#{id}||'%'
	and name like '%'||#{name}||'%'
	<if test="auth!=''">
	and auth = #{auth}
	</if>
</select>
<select id="getMember" parameterType="string">
	SELECT DISTINCT auth
		FROM member200
</select>
<update id="uptMember" parameterType="member">
select * from member200
	where id = #{id}
	update member 
		set name=#{name},
			pass=#{pass},
			point=#{point},
			auth=#{auth}
		where id = #{id}
</update>
<delete id="delMember" parameterType="string">
	member200
	where id = #{id}
</delete>
			
</mapper>		
		